"use strict";(self.webpackChunkrspamd_docs=self.webpackChunkrspamd_docs||[]).push([[8836],{456(e,s,n){n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"downloads","title":"Downloads","description":"Rspamd installation packages and build information","source":"@site/docs/downloads.mdx","sourceDirName":".","slug":"/downloads","permalink":"/docs.rspamd.com/branches/master/ru/downloads","draft":false,"unlisted":false,"editUrl":"https://github.com/rspamd/docs.rspamd.com/edit/master/docs/downloads.mdx","tags":[],"version":"current","frontMatter":{"title":"Downloads","description":"Rspamd installation packages and build information"},"sidebar":"docs","previous":{"title":"Rspamd Support","permalink":"/docs.rspamd.com/branches/master/ru/support"},"next":{"title":"Configuration Guide","permalink":"/docs.rspamd.com/branches/master/ru/configuration/"}}');var r=n(4848),a=n(8453);const d={title:"Downloads",description:"Rspamd installation packages and build information"},l="Rspamd Packages",t={},c=[{value:"Package Branches",id:"package-branches",level:2},{value:"Stable Packages",id:"stable-packages",level:3},{value:"Experimental Packages",id:"experimental-packages",level:3},{value:"ASAN Packages",id:"asan-packages",level:3},{value:"How Packages Are Built",id:"how-packages-are-built",level:2},{value:"Build Optimizations",id:"build-optimizations",level:3},{value:"Debug Symbols",id:"debug-symbols",level:3},{value:"Docker",id:"docker",level:2},{value:"Image Features",id:"image-features",level:3},{value:"Available Tags",id:"available-tags",level:3},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Volume Requirements",id:"volume-requirements",level:3},{value:"Security",id:"security",level:3},{value:"Examples",id:"examples",level:3},{value:"Debian and Ubuntu",id:"debian-and-ubuntu",level:2},{value:"Install Stable Packages",id:"install-stable-packages",level:3},{value:"Install Experimental Packages",id:"install-experimental-packages",level:3},{value:"Install ASAN Packages",id:"install-asan-packages",level:3},{value:"Hyperscan and LuaJIT",id:"hyperscan-and-luajit",level:3},{value:"Debian Standard Repository Warning",id:"debian-standard-repository-warning",level:3},{value:"RHEL and Compatible Distributions",id:"rhel-and-compatible-distributions",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Install Stable Packages",id:"install-stable-packages-1",level:3},{value:"Install Experimental Packages",id:"install-experimental-packages-1",level:3},{value:"Install ASAN Packages",id:"install-asan-packages-1",level:3},{value:"Debug Symbols",id:"debug-symbols-1",level:3},{value:"Other Linux Distributions",id:"other-linux-distributions",level:2},{value:"Alpine Linux",id:"alpine-linux",level:3},{value:"Arch Linux",id:"arch-linux",level:3},{value:"Gentoo Linux",id:"gentoo-linux",level:3},{value:"openSUSE",id:"opensuse",level:3},{value:"BSD Systems",id:"bsd-systems",level:2},{value:"FreeBSD",id:"freebsd",level:3},{value:"NetBSD",id:"netbsd",level:3},{value:"OpenBSD",id:"openbsd",level:3},{value:"macOS",id:"macos",level:3},{value:"Building from Source",id:"building-from-source",level:2},{value:"Getting the Source",id:"getting-the-source",level:3},{value:"Build Requirements",id:"build-requirements",level:3},{value:"Basic Build",id:"basic-build",level:3},{value:"Recommended Production Build",id:"recommended-production-build",level:3},{value:"Building with ASAN (for debugging)",id:"building-with-asan-for-debugging",level:3},{value:"Common CMake Options",id:"common-cmake-options",level:3},{value:"Building Packages for Unsupported Systems",id:"building-packages-for-unsupported-systems",level:3},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"rspamd-packages",children:"Rspamd Packages"})}),"\n",(0,r.jsx)(s.p,{children:"Rspamd provides official packages for various platforms. This page covers package installation, package types, and building from source."}),"\n",(0,r.jsx)(s.h2,{id:"package-branches",children:"Package Branches"}),"\n",(0,r.jsx)(s.p,{children:"Rspamd provides three types of packages:"}),"\n",(0,r.jsx)(s.h3,{id:"stable-packages",children:"Stable Packages"}),"\n",(0,r.jsx)(s.p,{children:"Stable packages are the official Rspamd releases recommended for production usage. These packages are built from tagged releases and undergo thorough testing before publication."}),"\n",(0,r.jsx)(s.h3,{id:"experimental-packages",children:"Experimental Packages"}),"\n",(0,r.jsxs)(s.p,{children:["Experimental packages are built from the ",(0,r.jsx)(s.code,{children:"master"})," branch of the Rspamd repository. They include the latest features and bug fixes but may occasionally contain regressions."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"When to use experimental packages:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"You experience a significant issue with stable packages that is fixed in the development branch"}),"\n",(0,r.jsx)(s.li,{children:"You want to test new features before they are released"}),"\n",(0,r.jsx)(s.li,{children:"You are running a test environment where you can handle potential instability"}),"\n",(0,r.jsxs)(s.li,{children:["You can use ",(0,r.jsx)(s.a,{href:"/workers/rspamd_proxy",children:"mirroring in Rspamd proxy"})," to test new versions alongside stable"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Identifying experimental package versions:"})}),"\n",(0,r.jsx)(s.p,{children:"Experimental packages include a git hash in their version. You can view changes between versions using:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"git log <old_hash>..<new_hash>\n"})}),"\n",(0,r.jsx)(s.h3,{id:"asan-packages",children:"ASAN Packages"}),"\n",(0,r.jsxs)(s.p,{children:["ASAN (AddressSanitizer) packages are specially built with ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/AddressSanitizer",children:"AddressSanitizer"})," instrumentation for debugging memory-related issues. These packages:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Are built with minimal optimizations for accurate debugging"}),"\n",(0,r.jsx)(s.li,{children:"Include memory error detection (buffer overflows, use-after-free, etc.)"}),"\n",(0,r.jsxs)(s.li,{children:["Are ",(0,r.jsx)(s.strong,{children:"significantly slower"})," than regular packages (not recommended for production)"]}),"\n",(0,r.jsx)(s.li,{children:"Are essential for diagnosing crashes and memory corruption issues"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Using ASAN packages:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Install the ASAN package (",(0,r.jsx)(s.code,{children:"rspamd-asan"})," instead of ",(0,r.jsx)(s.code,{children:"rspamd"}),")"]}),"\n",(0,r.jsx)(s.li,{children:"Configure ASAN log output by setting an environment variable:"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'export ASAN_OPTIONS="log_path=/tmp/rspamd-asan"\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Or add to systemd service override (",(0,r.jsx)(s.code,{children:"systemctl edit rspamd"}),"):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ini",children:'[Service]\nEnvironment="ASAN_OPTIONS=log_path=/tmp/rspamd-asan"\n'})}),"\n",(0,r.jsxs)(s.ol,{start:"3",children:["\n",(0,r.jsxs)(s.li,{children:["When a crash occurs, collect both the core file and the ASAN log (",(0,r.jsx)(s.code,{children:"/tmp/rspamd-asan.<pid>"}),") for bug reports"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"how-packages-are-built",children:"How Packages Are Built"}),"\n",(0,r.jsxs)(s.p,{children:["Official Rspamd packages are built using GitHub Actions workflows in the ",(0,r.jsx)(s.a,{href:"https://github.com/rspamd/rspamd-packages",children:"rspamd-packages"})," repository. The build system:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Builds packages in parallel for all supported distributions"}),"\n",(0,r.jsx)(s.li,{children:"Tests packages in matching container environments"}),"\n",(0,r.jsx)(s.li,{children:"Signs all packages with GPG keys"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"build-optimizations",children:"Build Optimizations"}),"\n",(0,r.jsx)(s.p,{children:"Official packages include several optimizations not present in distribution packages:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Feature"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Link Time Optimization (LTO)"})}),(0,r.jsx)(s.td,{children:"Enables cross-module optimization for better performance"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Bundled LuaJIT 2.1"})}),(0,r.jsx)(s.td,{children:"Uses LuaJIT 2.1 beta for up to 30% performance improvement over stable LuaJIT"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"jemalloc"})}),(0,r.jsx)(s.td,{children:"Memory allocator optimized for multi-threaded applications"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Hyperscan"})}),(0,r.jsx)(s.td,{children:"Intel's high-performance regex matching library (x86_64)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Vectorscan"})}),(0,r.jsx)(s.td,{children:"Hyperscan port for ARM64 and PowerPC platforms"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"These optimizations may not be available on older platforms due to toolchain limitations."}),"\n",(0,r.jsx)(s.h3,{id:"debug-symbols",children:"Debug Symbols"}),"\n",(0,r.jsx)(s.p,{children:"Debug symbol packages are available for crash analysis:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"RPM-based"}),": ",(0,r.jsx)(s.code,{children:"rspamd-debuginfo"})," (or ",(0,r.jsx)(s.code,{children:"rspamd-asan-debuginfo"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"DEB-based"}),": ",(0,r.jsx)(s.code,{children:"rspamd-dbg"})," (or ",(0,r.jsx)(s.code,{children:"rspamd-asan-dbg"}),")"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"These packages can be safely installed in production environments."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"docker",children:"Docker"}),"\n",(0,r.jsxs)(s.p,{children:["The official Docker image is available at ",(0,r.jsx)(s.a,{href:"https://hub.docker.com/r/rspamd/rspamd",children:"rspamd/rspamd on Docker Hub"}),", with sources on ",(0,r.jsx)(s.a,{href:"https://github.com/rspamd/rspamd-docker",children:"GitHub"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"image-features",children:"Image Features"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Upstream config files in ",(0,r.jsx)(s.code,{children:"/usr/share/rspamd/config"}),", keeping ",(0,r.jsx)(s.code,{children:"/etc/rspamd"})," for local configuration only"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://fasttext.cc/docs/en/language-identification.html",children:"FastText language identification model"})," included (CC BY-SA 3.0 license)"]}),"\n",(0,r.jsx)(s.li,{children:"Multi-architecture support (amd64, arm64)"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"available-tags",children:"Available Tags"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Tag"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"latest"})}),(0,r.jsx)(s.td,{children:"Latest stable release"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"3.x"}),", ",(0,r.jsx)(s.code,{children:"3.x.y"})]}),(0,r.jsx)(s.td,{children:"Specific version series"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"nightly"})}),(0,r.jsx)(s.td,{children:"Development builds from master branch"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"asan-*"})}),(0,r.jsx)(s.td,{children:"ASAN-enabled images for debugging"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"docker run -v rspamd_dbdir:/var/lib/rspamd -v rspamd_confdir:/etc/rspamd -ti rspamd/rspamd\n"})}),"\n",(0,r.jsx)(s.h3,{id:"volume-requirements",children:"Volume Requirements"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/var/lib/rspamd"})," - Required for persistent data (statistics, databases)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/etc/rspamd"})," - Optional for configuration overrides"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["If using bind mounts, ensure ",(0,r.jsx)(s.code,{children:"/var/lib/rspamd"})," is writable by UID/GID ",(0,r.jsx)(s.code,{children:"11333:11333"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"security",children:"Security"}),"\n",(0,r.jsx)(s.p,{children:"The root directory may be set read-only for added security."}),"\n",(0,r.jsx)(s.h3,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.a,{href:"https://github.com/rspamd/rspamd-docker/tree/main/examples/compose",children:"Docker Compose example"})," is available in the source repository."]}),"\n",(0,r.jsxs)(s.p,{children:["For detailed Docker and Kubernetes deployment, see the ",(0,r.jsx)(s.a,{href:"/getting-started/installation#docker-installation",children:"Installation Guide"}),"."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"debian-and-ubuntu",children:"Debian and Ubuntu"}),"\n",(0,r.jsx)(s.p,{children:"Rspamd supports the following Debian-based distributions:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Distribution"}),(0,r.jsx)(s.th,{children:"Supported Since"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Debian trixie"}),(0,r.jsx)(s.td,{children:"3.13"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Debian bookworm"}),(0,r.jsx)(s.td,{children:"3.5"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Debian bullseye"}),(0,r.jsx)(s.td,{children:"\u2014"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Ubuntu noble (24.04)"}),(0,r.jsx)(s.td,{children:"3.9"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Ubuntu jammy (22.04)"}),(0,r.jsx)(s.td,{children:"3.3"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Ubuntu focal (20.04)"}),(0,r.jsx)(s.td,{children:"2.5"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"install-stable-packages",children:"Install Stable Packages"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# Install prerequisites\nsudo apt-get update\nsudo apt-get install -y lsb-release wget gpg\n\n# Add GPG key\nsudo mkdir -p /etc/apt/keyrings\nwget -O- https://rspamd.com/apt-stable/gpg.key | gpg --dearmor | sudo tee /etc/apt/keyrings/rspamd.gpg > /dev/null\n\n# Add repository\nCODENAME=$(lsb_release -c -s)\necho "deb [signed-by=/etc/apt/keyrings/rspamd.gpg] http://rspamd.com/apt-stable/ $CODENAME main" | sudo tee /etc/apt/sources.list.d/rspamd.list\necho "deb-src [signed-by=/etc/apt/keyrings/rspamd.gpg] http://rspamd.com/apt-stable/ $CODENAME main" | sudo tee -a /etc/apt/sources.list.d/rspamd.list\n\n# Install\nsudo apt-get update\nsudo apt-get --no-install-recommends install rspamd\n'})}),"\n",(0,r.jsx)(s.h3,{id:"install-experimental-packages",children:"Install Experimental Packages"}),"\n",(0,r.jsxs)(s.p,{children:["Replace ",(0,r.jsx)(s.code,{children:"apt-stable"})," with ",(0,r.jsx)(s.code,{children:"apt"})," in the repository URL:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# Install prerequisites\nsudo apt-get update\nsudo apt-get install -y lsb-release wget gpg\n\n# Add GPG key\nsudo mkdir -p /etc/apt/keyrings\nwget -O- https://rspamd.com/apt-stable/gpg.key | gpg --dearmor | sudo tee /etc/apt/keyrings/rspamd.gpg > /dev/null\n\n# Add experimental repository\nCODENAME=$(lsb_release -c -s)\necho "deb [signed-by=/etc/apt/keyrings/rspamd.gpg] http://rspamd.com/apt/ $CODENAME main" | sudo tee /etc/apt/sources.list.d/rspamd.list\necho "deb-src [signed-by=/etc/apt/keyrings/rspamd.gpg] http://rspamd.com/apt/ $CODENAME main" | sudo tee -a /etc/apt/sources.list.d/rspamd.list\n\n# Install\nsudo apt-get update\nsudo apt-get --no-install-recommends install rspamd\n'})}),"\n",(0,r.jsx)(s.h3,{id:"install-asan-packages",children:"Install ASAN Packages"}),"\n",(0,r.jsxs)(s.p,{children:["Install ",(0,r.jsx)(s.code,{children:"rspamd-asan"})," instead of ",(0,r.jsx)(s.code,{children:"rspamd"})," (available since version 3.5):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo apt-get --no-install-recommends install rspamd-asan\n"})}),"\n",(0,r.jsx)(s.h3,{id:"hyperscan-and-luajit",children:"Hyperscan and LuaJIT"}),"\n",(0,r.jsxs)(s.p,{children:["For information about Hyperscan and LuaJIT in Debian/Ubuntu packages, see the ",(0,r.jsx)(s.a,{href:"/faq#how-rspamd-packages-are-built",children:"FAQ"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"debian-standard-repository-warning",children:"Debian Standard Repository Warning"}),"\n",(0,r.jsxs)(s.p,{children:["The Rspamd packages in Debian's standard repositories are ",(0,r.jsx)(s.strong,{children:"not supported"})," by the Rspamd project. They are typically outdated and issues related to those packages will be closed automatically. Always use the official Rspamd repositories."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"rhel-and-compatible-distributions",children:"RHEL and Compatible Distributions"}),"\n",(0,r.jsx)(s.p,{children:"Rspamd provides packages for RHEL-compatible distributions including:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Red Hat Enterprise Linux (RHEL)"}),"\n",(0,r.jsx)(s.li,{children:"AlmaLinux"}),"\n",(0,r.jsx)(s.li,{children:"Rocky Linux"}),"\n",(0,r.jsx)(s.li,{children:"Oracle Linux"}),"\n",(0,r.jsx)(s.li,{children:"CentOS Stream"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Supported versions"}),": 8, 9, and 10"]}),"\n",(0,r.jsx)(s.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(s.p,{children:["These packages ",(0,r.jsx)(s.strong,{children:"require"})," ",(0,r.jsx)(s.a,{href:"https://fedoraproject.org/wiki/EPEL",children:"EPEL"})," as many dependencies are not in base repositories:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo dnf install epel-release\n"})}),"\n",(0,r.jsx)(s.h3,{id:"install-stable-packages-1",children:"Install Stable Packages"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# Determine EL version and add repository\nsource /etc/os-release\nEL_VERSION=$(echo -n $PLATFORM_ID | sed "s/.*el//")\nsudo curl -o /etc/yum.repos.d/rspamd.repo https://rspamd.com/rpm-stable/centos-${EL_VERSION}/rspamd.repo\n\n# Install\nsudo dnf install rspamd\n'})}),"\n",(0,r.jsx)(s.h3,{id:"install-experimental-packages-1",children:"Install Experimental Packages"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# Determine EL version and add experimental repository\nsource /etc/os-release\nEL_VERSION=$(echo -n $PLATFORM_ID | sed "s/.*el//")\nsudo curl -o /etc/yum.repos.d/rspamd.repo https://rspamd.com/rpm/centos-${EL_VERSION}/rspamd-experimental.repo\n\n# Install\nsudo dnf install rspamd\n'})}),"\n",(0,r.jsx)(s.h3,{id:"install-asan-packages-1",children:"Install ASAN Packages"}),"\n",(0,r.jsxs)(s.p,{children:["Install ",(0,r.jsx)(s.code,{children:"rspamd-asan"})," instead of ",(0,r.jsx)(s.code,{children:"rspamd"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo dnf install rspamd-asan\n"})}),"\n",(0,r.jsx)(s.h3,{id:"debug-symbols-1",children:"Debug Symbols"}),"\n",(0,r.jsx)(s.p,{children:"For crash debugging, install the debug info package:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo dnf install rspamd-debuginfo\n# or for ASAN\nsudo dnf install rspamd-asan-debuginfo\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"other-linux-distributions",children:"Other Linux Distributions"}),"\n",(0,r.jsx)(s.p,{children:"Rspamd is available in community repositories for several other distributions. Note that these packages are maintained by distribution maintainers, not the Rspamd project."}),"\n",(0,r.jsx)(s.h3,{id:"alpine-linux",children:"Alpine Linux"}),"\n",(0,r.jsxs)(s.p,{children:["Available in the ",(0,r.jsx)(s.a,{href:"https://pkgs.alpinelinux.org/package/edge/community/x86_64/rspamd",children:"community repository"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"apk add rspamd\n"})}),"\n",(0,r.jsx)(s.h3,{id:"arch-linux",children:"Arch Linux"}),"\n",(0,r.jsxs)(s.p,{children:["Available in the ",(0,r.jsx)(s.a,{href:"https://archlinux.org/packages/extra/x86_64/rspamd/",children:"extra repository"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pacman -S rspamd\n"})}),"\n",(0,r.jsx)(s.h3,{id:"gentoo-linux",children:"Gentoo Linux"}),"\n",(0,r.jsxs)(s.p,{children:["Available in the main ",(0,r.jsx)(s.a,{href:"https://packages.gentoo.org/packages/mail-filter/rspamd",children:"Portage repository"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"emerge mail-filter/rspamd\n"})}),"\n",(0,r.jsx)(s.h3,{id:"opensuse",children:"openSUSE"}),"\n",(0,r.jsxs)(s.p,{children:["Packages for Leap and Tumbleweed are available on ",(0,r.jsx)(s.a,{href:"https://build.opensuse.org/package/show/server:mail/rspamd",children:"OBS"}),"."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"bsd-systems",children:"BSD Systems"}),"\n",(0,r.jsx)(s.h3,{id:"freebsd",children:"FreeBSD"}),"\n",(0,r.jsxs)(s.p,{children:["Available from ",(0,r.jsx)(s.a,{href:"https://www.freshports.org/mail/rspamd/",children:"ports"})," or packages:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pkg install rspamd\n"})}),"\n",(0,r.jsxs)(s.p,{children:["For experimental packages, use ",(0,r.jsx)(s.a,{href:"https://www.freshports.org/mail/rspamd-devel/",children:"rspamd-devel"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"netbsd",children:"NetBSD"}),"\n",(0,r.jsxs)(s.p,{children:["Available via ",(0,r.jsx)(s.a,{href:"https://pkgsrc.se/mail/rspamd",children:"pkgsrc"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd /usr/pkgsrc/mail/rspamd && make install\n"})}),"\n",(0,r.jsx)(s.h3,{id:"openbsd",children:"OpenBSD"}),"\n",(0,r.jsxs)(s.p,{children:["Available from ",(0,r.jsx)(s.a,{href:"https://openports.pl/path/mail/rspamd",children:"ports"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pkg_add rspamd\n"})}),"\n",(0,r.jsx)(s.h3,{id:"macos",children:"macOS"}),"\n",(0,r.jsxs)(s.p,{children:["Available via ",(0,r.jsx)(s.a,{href:"https://ports.macports.org/port/rspamd",children:"MacPorts"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo port install rspamd\nsudo port load rspamd\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"building-from-source",children:"Building from Source"}),"\n",(0,r.jsx)(s.p,{children:"If packages are not available for your platform or you need custom build options, you can build Rspamd from source."}),"\n",(0,r.jsx)(s.h3,{id:"getting-the-source",children:"Getting the Source"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"git clone --recursive https://github.com/rspamd/rspamd.git\ncd rspamd\n"})}),"\n",(0,r.jsx)(s.p,{children:"For a specific version:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"git clone --recursive -b 3.10.2 https://github.com/rspamd/rspamd.git\n"})}),"\n",(0,r.jsx)(s.h3,{id:"build-requirements",children:"Build Requirements"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Dependency"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Required"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.a,{href:"https://cmake.org/",children:"CMake"})," 3.12+"]}),(0,r.jsx)(s.td,{children:"Build system"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"C11 compiler"}),(0,r.jsx)(s.td,{children:"GCC 7+ or Clang 6+"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"C++20 compiler"}),(0,r.jsx)(s.td,{children:"GCC 10+ or Clang 10+"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://www.openssl.org/",children:"OpenSSL"})}),(0,r.jsx)(s.td,{children:"Cryptography library"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.a,{href:"https://developer.gnome.org/glib/",children:"GLib2"})," 2.28+"]}),(0,r.jsx)(s.td,{children:"Common utilities library"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://www.colm.net/open-source/ragel/",children:"Ragel"})}),(0,r.jsx)(s.td,{children:"State machine compiler"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.a,{href:"https://luajit.org/",children:"LuaJIT"})," or ",(0,r.jsx)(s.a,{href:"https://www.lua.org/",children:"Lua"})," 5.1-5.4"]}),(0,r.jsx)(s.td,{children:"Scripting language"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://sqlite.org/",children:"SQLite3"})}),(0,r.jsx)(s.td,{children:"Embedded database"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://www.darwinsys.com/file/",children:"libmagic"})}),(0,r.jsx)(s.td,{children:"File type detection"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://icu.unicode.org/",children:"libicu"})}),(0,r.jsx)(s.td,{children:"Unicode library"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://www.pcre.org/",children:"PCRE2"})}),(0,r.jsx)(s.td,{children:"Regular expressions"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://zlib.net/",children:"zlib"})}),(0,r.jsx)(s.td,{children:"Compression library"}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://www.hyperscan.io/",children:"Hyperscan"})}),(0,r.jsx)(s.td,{children:"High-performance regex (x86_64)"}),(0,r.jsx)(s.td,{children:"Recommended"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://github.com/VectorCamp/vectorscan",children:"Vectorscan"})}),(0,r.jsx)(s.td,{children:"Hyperscan for ARM64/PPC64"}),(0,r.jsx)(s.td,{children:"Recommended"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://jemalloc.net/",children:"jemalloc"})}),(0,r.jsx)(s.td,{children:"Memory allocator"}),(0,r.jsx)(s.td,{children:"Recommended"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://redis.io/",children:"Redis"})}),(0,r.jsx)(s.td,{children:"In-memory data store"}),(0,r.jsx)(s.td,{children:"Recommended"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"basic-build",children:"Basic Build"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mkdir build && cd build\ncmake .. \\\n  -DCMAKE_BUILD_TYPE=RelWithDebInfo \\\n  -DENABLE_LUAJIT=ON\nmake -j$(nproc)\nsudo make install\n"})}),"\n",(0,r.jsx)(s.h3,{id:"recommended-production-build",children:"Recommended Production Build"}),"\n",(0,r.jsx)(s.p,{children:"For production, enable additional optimizations:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'mkdir build && cd build\ncmake .. \\\n  -DCMAKE_BUILD_TYPE=Release \\\n  -DENABLE_LUAJIT=ON \\\n  -DENABLE_HYPERSCAN=ON \\\n  -DENABLE_JEMALLOC=ON \\\n  -DCMAKE_C_FLAGS="-flto" \\\n  -DCMAKE_CXX_FLAGS="-flto"\nmake -j$(nproc)\nsudo make install\n'})}),"\n",(0,r.jsx)(s.h3,{id:"building-with-asan-for-debugging",children:"Building with ASAN (for debugging)"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"mkdir build && cd build\ncmake .. \\\n  -DCMAKE_BUILD_TYPE=Debug \\\n  -DSANITIZE=address \\\n  -DENABLE_LUAJIT=ON\nmake -j$(nproc)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Note: ASAN builds automatically disable jemalloc."}),"\n",(0,r.jsx)(s.h3,{id:"common-cmake-options",children:"Common CMake Options"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Option"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"ENABLE_LUAJIT"})}),(0,r.jsx)(s.td,{children:"ON"}),(0,r.jsx)(s.td,{children:"Use LuaJIT instead of Lua"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"ENABLE_HYPERSCAN"})}),(0,r.jsx)(s.td,{children:"OFF"}),(0,r.jsx)(s.td,{children:"Enable Hyperscan regex acceleration"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"ENABLE_JEMALLOC"})}),(0,r.jsx)(s.td,{children:"OFF"}),(0,r.jsx)(s.td,{children:"Use jemalloc memory allocator"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"ENABLE_PCRE2"})}),(0,r.jsx)(s.td,{children:"ON"}),(0,r.jsx)(s.td,{children:"Use PCRE2 (vs legacy PCRE)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"SANITIZE"})}),(0,r.jsx)(s.td,{children:"\u2014"}),(0,r.jsx)(s.td,{children:"Enable sanitizers (address, memory, undefined, leak)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"CMAKE_INSTALL_PREFIX"})}),(0,r.jsx)(s.td,{children:"/usr/local"}),(0,r.jsx)(s.td,{children:"Installation prefix"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"building-packages-for-unsupported-systems",children:"Building Packages for Unsupported Systems"}),"\n",(0,r.jsx)(s.p,{children:"For Debian-based systems not officially supported, you can build packages using the in-tree fixtures:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'export RSPAMD_VERSION=3.10.2\ngit clone -b ${RSPAMD_VERSION} https://github.com/rspamd/rspamd.git\ncd rspamd\n\n# Update changelog version\nsed -i "s/(.*)/($RSPAMD_VERSION)/" debian/changelog\nsed -i "s/quilt/native/" debian/source/format\n\n# Install build dependencies\nsudo apt install devscripts\nmk-build-deps\nsudo dpkg -i rspamd-build-deps_*.deb || sudo apt install -f -y\n\n# Build package\ndebuild -us -uc\n\n# Install\nsudo dpkg -i ../rspamd_${RSPAMD_VERSION}_*.deb\n'})}),"\n",(0,r.jsxs)(s.p,{children:["For RPM-based systems, use the spec file in the ",(0,r.jsx)(s.code,{children:"rpm/"})," directory."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(s.p,{children:"After installation:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"/getting-started/installation",children:"Installation Guide"})})," \u2014 Verify installation and configure services"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"/getting-started/first-setup",children:"First Setup Guide"})})," \u2014 Integrate with your MTA"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"/tutorials/quickstart",children:"Quick Start Tutorial"})})," \u2014 Get basic spam filtering working"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453(e,s,n){n.d(s,{R:()=>d,x:()=>l});var i=n(6540);const r={},a=i.createContext(r);function d(e){const s=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);