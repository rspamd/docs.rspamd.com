"use strict";(self.webpackChunkrspamd_docs=self.webpackChunkrspamd_docs||[]).push([[2644],{2994:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>d,contentTitle:()=>t,default:()=>m,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"modules/maillist","title":"Mailing lists module","description":"The mailing lists module detects messages delivered via common mailing list software. It is typically used to reduce or suppress scores from rules that would otherwise trigger on list mail (e.g. bulk-like traits, footer content, or subject munging).","source":"@site/docs/modules/maillist.md","sourceDirName":"modules","slug":"/modules/maillist","permalink":"/docs.rspamd.com/branches/master/ru/modules/maillist","draft":false,"unlisted":false,"editUrl":"https://github.com/rspamd/docs.rspamd.com/edit/master/docs/modules/maillist.md","tags":[],"version":"current","frontMatter":{"title":"Mailing lists module"},"sidebar":"docs","previous":{"title":"Known senders module","permalink":"/docs.rspamd.com/branches/master/ru/modules/known_senders"},"next":{"title":"Metadata exporter","permalink":"/docs.rspamd.com/branches/master/ru/modules/metadata_exporter"}}');var l=i(4848),o=i(8453);const r={title:"Mailing lists module"},t="Mailing lists module",d={},c=[{value:"How it works",id:"how-it-works",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Symbols and result options",id:"symbols-and-result-options",level:2},{value:"Supported detectors",id:"supported-detectors",level:2},{value:"Notes",id:"notes",level:2}];function a(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"mailing-lists-module",children:"Mailing lists module"})}),"\n",(0,l.jsx)(s.p,{children:"The mailing lists module detects messages delivered via common mailing list software. It is typically used to reduce or suppress scores from rules that would otherwise trigger on list mail (e.g. bulk-like traits, footer content, or subject munging)."}),"\n",(0,l.jsx)(s.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,l.jsx)(s.p,{children:"The module examines standard list-related headers and known vendor-specific markers:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["RFC 2919/2369 headers: ",(0,l.jsx)(s.code,{children:"List-Id"}),", ",(0,l.jsx)(s.code,{children:"List-Help"}),", ",(0,l.jsx)(s.code,{children:"List-Post"}),", ",(0,l.jsx)(s.code,{children:"List-Subscribe"}),", ",(0,l.jsx)(s.code,{children:"List-Unsubscribe"}),", ",(0,l.jsx)(s.code,{children:"List-Archive"}),", ",(0,l.jsx)(s.code,{children:"List-Owner"})]}),"\n",(0,l.jsxs)(s.li,{children:["Heuristic headers: ",(0,l.jsx)(s.code,{children:"Precedence: list|bulk"}),", ",(0,l.jsx)(s.code,{children:"X-Loop"})]}),"\n",(0,l.jsxs)(s.li,{children:["Vendor markers when present, such as ",(0,l.jsx)(s.code,{children:"X-Mailman-Version"}),", ",(0,l.jsx)(s.code,{children:"X-BeenThere"}),", ",(0,l.jsx)(s.code,{children:"X-Google-Loop"}),", ",(0,l.jsx)(s.code,{children:"X-Google-Group-Id"}),", ",(0,l.jsx)(s.code,{children:"X-Listserver: CommuniGate Pro LIST"})]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"If evidence is strong (e.g. Mailman, ezmlm, Google Groups, CommuniGate Pro), the symbol is added with a specific result option. Otherwise, a generic option is added when enough list headers are present."}),"\n",(0,l.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsxs)(s.p,{children:["The module works out of the box. You can optionally override the symbol name in ",(0,l.jsx)(s.code,{children:"local.d/maillist.conf"}),":"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-hcl",children:'# /etc/rspamd/local.d/maillist.conf\nmaillist {\n  # Optional: change the symbol name\n  #symbol = "MAILLIST";\n}\n'})}),"\n",(0,l.jsx)(s.p,{children:"Assign a weight to the symbol in your metrics as desired (commonly negative):"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-hcl",children:'# /etc/rspamd/local.d/metrics.conf\nsymbol "MAILLIST" {\n  weight = -2.0;\n  description = "Message sent via a mailing list";\n}\n'})}),"\n",(0,l.jsx)(s.h2,{id:"symbols-and-result-options",children:"Symbols and result options"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"MAILLIST"}),": inserted when a message is detected as list mail\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["Result options may include:\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.code,{children:"ezmlm"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.code,{children:"mailman"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.code,{children:"googlegroups"})}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"cgp"})," (CommuniGate Pro)"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.code,{children:"generic"})," (sufficient list headers without a specific vendor)"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"supported-detectors",children:"Supported detectors"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"Ezmlm"}),"\n",(0,l.jsx)(s.li,{children:"Mailman (v2 and v3)"}),"\n",(0,l.jsx)(s.li,{children:"Google Groups"}),"\n",(0,l.jsx)(s.li,{children:"CommuniGate Pro"}),"\n",(0,l.jsx)(s.li,{children:"Generic RFC 2919/2369 list headers"}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"notes",children:"Notes"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["Some Mailman installations (especially Mailman 3) can disable certain ",(0,l.jsx)(s.code,{children:"List-*"})," headers, which may reduce detection reliability."]}),"\n",(0,l.jsx)(s.li,{children:"The module is intended to adjust scoring for list messages rather than to accept or reject mail on its own."}),"\n"]})]})}function m(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>r,x:()=>t});var n=i(6540);const l={},o=n.createContext(l);function r(e){const s=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);