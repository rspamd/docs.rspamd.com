"use strict";(self.webpackChunkrspamd_docs=self.webpackChunkrspamd_docs||[]).push([[1245],{2834:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"guides/configuration/fundamentals","title":"Configuration Fundamentals","description":"Now that you have working spam filtering, let\'s understand what you can configure and how to configure it effectively. This knowledge will help you customize Rspamd for your specific needs.","source":"@site/docs/guides/configuration/fundamentals.md","sourceDirName":"guides/configuration","slug":"/guides/configuration/fundamentals","permalink":"/docs.rspamd.com/branches/master/guides/configuration/fundamentals","draft":false,"unlisted":false,"editUrl":"https://github.com/rspamd/docs.rspamd.com/edit/master/docs/guides/configuration/fundamentals.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Configuration Fundamentals","sidebar_position":1},"sidebar":"docs","previous":{"title":"First Success Setup","permalink":"/docs.rspamd.com/branches/master/getting-started/first-setup"},"next":{"title":"Tool Selection Guide","permalink":"/docs.rspamd.com/branches/master/guides/configuration/tool-selection"}}');var i=s(4848),t=s(8453);const d={title:"Configuration Fundamentals",sidebar_position:1},l="Configuration Fundamentals",o={},c=[{value:"The &quot;What and How&quot; Framework",id:"the-what-and-how-framework",level:2},{value:"Modules: What Tests to Run",id:"modules-what-tests-to-run",level:2},{value:"Understanding Module Types",id:"understanding-module-types",level:3},{value:"Essential Modules You Should Know",id:"essential-modules-you-should-know",level:3},{value:"How to Configure Modules",id:"how-to-configure-modules",level:3},{value:"When to Modify Modules",id:"when-to-modify-modules",level:3},{value:"Scores: How Much Tests Matter",id:"scores-how-much-tests-matter",level:2},{value:"Understanding the Scoring System",id:"understanding-the-scoring-system",level:3},{value:"Default Score Categories",id:"default-score-categories",level:3},{value:"How to Adjust Scores",id:"how-to-adjust-scores",level:3},{value:"Score Tuning Strategy",id:"score-tuning-strategy",level:3},{value:"Actions: What to Do with Scores",id:"actions-what-to-do-with-scores",level:2},{value:"Standard Action Types",id:"standard-action-types",level:3},{value:"How Actions Work",id:"how-actions-work",level:3},{value:"Configuration Examples",id:"configuration-examples",level:3},{value:"Action Tuning Guidelines",id:"action-tuning-guidelines",level:3},{value:"Workers: How Rspamd Operates",id:"workers-how-rspamd-operates",level:2},{value:"Worker Types and Their Roles",id:"worker-types-and-their-roles",level:3},{value:"Essential Worker Configurations",id:"essential-worker-configurations",level:3},{value:"When to Modify Worker Configuration",id:"when-to-modify-worker-configuration",level:3},{value:"General Options: System Behavior",id:"general-options-system-behavior",level:2},{value:"Key General Options",id:"key-general-options",level:3},{value:"Common Configuration Scenarios",id:"common-configuration-scenarios",level:3},{value:"Configuration File Structure",id:"configuration-file-structure",level:2},{value:"Directory Structure",id:"directory-structure",level:3},{value:"Configuration Precedence",id:"configuration-precedence",level:3},{value:"Configuration Testing and Validation",id:"configuration-testing-and-validation",level:2},{value:"Test Configuration Syntax",id:"test-configuration-syntax",level:3},{value:"Monitor Configuration Changes",id:"monitor-configuration-changes",level:3},{value:"Validate Changes with Test Messages",id:"validate-changes-with-test-messages",level:3},{value:"Common Configuration Patterns",id:"common-configuration-patterns",level:2},{value:"The Minimal Configuration Pattern",id:"the-minimal-configuration-pattern",level:3},{value:"The Tuned Environment Pattern",id:"the-tuned-environment-pattern",level:3},{value:"The High Performance Pattern",id:"the-high-performance-pattern",level:3},{value:"What&#39;s Next?",id:"whats-next",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2}];function a(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"configuration-fundamentals",children:"Configuration Fundamentals"})}),"\n",(0,i.jsxs)(n.p,{children:["Now that you have ",(0,i.jsx)(n.a,{href:"/getting-started/first-setup",children:"working spam filtering"}),", let's understand ",(0,i.jsx)(n.strong,{children:"what you can configure"})," and ",(0,i.jsx)(n.strong,{children:"how to configure it effectively"}),". This knowledge will help you customize Rspamd for your specific needs."]}),"\n",(0,i.jsx)(n.h2,{id:"the-what-and-how-framework",children:'The "What and How" Framework'}),"\n",(0,i.jsx)(n.p,{children:"Based on user feedback and common questions, here's what there is to configure in Rspamd:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Configuration Area"}),(0,i.jsx)(n.th,{children:"What It Controls"}),(0,i.jsx)(n.th,{children:"How to Configure"}),(0,i.jsx)(n.th,{children:"When to Modify"}),(0,i.jsx)(n.th,{children:"Common Pitfalls"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"#modules-what-tests-to-run",children:"Modules"})})}),(0,i.jsx)(n.td,{children:"Which tests run on messages"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"local.d/"})," files"]}),(0,i.jsx)(n.td,{children:"Different security needs"}),(0,i.jsx)(n.td,{children:"Disabling core modules"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"#scores-how-much-tests-matter",children:"Scores"})})}),(0,i.jsx)(n.td,{children:"Symbol weights in spam calculation"}),(0,i.jsx)(n.td,{children:"Actions & metrics files"}),(0,i.jsx)(n.td,{children:"Fine-tuning accuracy"}),(0,i.jsx)(n.td,{children:"Score inflation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"#actions-what-to-do-with-scores",children:"Actions"})})}),(0,i.jsx)(n.td,{children:"Response at different score levels"}),(0,i.jsx)(n.td,{children:"Actions configuration"}),(0,i.jsx)(n.td,{children:"Setting spam tolerance"}),(0,i.jsx)(n.td,{children:"Missing greylisting"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"#workers-how-rspamd-operates",children:"Workers"})})}),(0,i.jsx)(n.td,{children:"Process behavior and integration"}),(0,i.jsx)(n.td,{children:"Worker-specific configs"}),(0,i.jsx)(n.td,{children:"MTA integration, performance"}),(0,i.jsx)(n.td,{children:"Port conflicts"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"#general-options-system-behavior",children:"General Options"})})}),(0,i.jsx)(n.td,{children:"System timeouts, DNS, logging"}),(0,i.jsx)(n.td,{children:"Global settings"}),(0,i.jsx)(n.td,{children:"Infrastructure adaptation"}),(0,i.jsx)(n.td,{children:"DNS timeouts"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"modules-what-tests-to-run",children:"Modules: What Tests to Run"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Modules"})," are the workhorses of Rspamd - they analyze messages and produce symbols when tests match."]}),"\n",(0,i.jsx)(n.h3,{id:"understanding-module-types",children:"Understanding Module Types"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph TB\n    A[Rspamd Modules] --\x3e B[Core Modules]\n    A --\x3e C[Lua Modules]\n    \n    B --\x3e D[Built into binary]\n    B --\x3e E[Always available]\n    B --\x3e F[Examples: Bayes, Fuzzy]\n    \n    C --\x3e G[Scripted functionality]\n    C --\x3e H[Most modules]\n    C --\x3e I[Examples: RBL, DKIM]"}),"\n",(0,i.jsx)(n.h3,{id:"essential-modules-you-should-know",children:"Essential Modules You Should Know"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Module"}),(0,i.jsx)(n.th,{children:"Purpose"}),(0,i.jsx)(n.th,{children:"Configuration File"}),(0,i.jsx)(n.th,{children:"Default Status"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/modules/bayes",children:"bayes"})})}),(0,i.jsx)(n.td,{children:"Statistical classification"}),(0,i.jsx)(n.td,{children:"N/A (core module)"}),(0,i.jsx)(n.td,{children:"\u2705 Enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/modules/rbl",children:"rbl"})})}),(0,i.jsx)(n.td,{children:"DNS blacklist checks"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"rbl.conf"})}),(0,i.jsx)(n.td,{children:"\u2705 Enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/modules/dkim",children:"dkim"})})}),(0,i.jsx)(n.td,{children:"DKIM signature validation"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"dkim.conf"})}),(0,i.jsx)(n.td,{children:"\u2705 Enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/modules/spf",children:"spf"})})}),(0,i.jsx)(n.td,{children:"SPF record validation"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"spf.conf"})}),(0,i.jsx)(n.td,{children:"\u2705 Enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/modules/dmarc",children:"dmarc"})})}),(0,i.jsx)(n.td,{children:"DMARC policy validation"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"dmarc.conf"})}),(0,i.jsx)(n.td,{children:"\u2705 Enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/modules/fuzzy_check",children:"fuzzy_check"})})}),(0,i.jsx)(n.td,{children:"Fuzzy hash matching"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fuzzy_check.conf"})}),(0,i.jsx)(n.td,{children:"\u2705 Enabled (check usage policies)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/modules/multimap",children:"multimap"})})}),(0,i.jsx)(n.td,{children:"Custom rule engine"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"multimap.conf"})}),(0,i.jsx)(n.td,{children:"\u26a0\ufe0f Requires setup"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/modules/antivirus",children:"antivirus"})})}),(0,i.jsx)(n.td,{children:"Virus scanning integration"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"antivirus.conf"})}),(0,i.jsx)(n.td,{children:"\u274c Manual setup"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"how-to-configure-modules",children:"How to Configure Modules"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Enable/Disable Modules"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Disable a module (create empty file)\nsudo touch /etc/rspamd/local.d/module_name.conf\necho 'enabled = false;' | sudo tee /etc/rspamd/local.d/module_name.conf\n\n# Enable with custom settings\nsudo nano /etc/rspamd/local.d/module_name.conf\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example: Configure RBL Module"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# /etc/rspamd/local.d/rbl.conf\n# Add custom DNS blacklist\n\nrbls {\n  "CUSTOM_RBL" {\n    symbol = "CUSTOM_RBL";\n    rbl = "custom.blocklist.example.com";\n    ipv6 = true;\n    score = 2.0;\n  }\n}\n\n# Exclude internal networks from RBL checks\nlocal_networks = "192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12";\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Important: Fuzzy Check Usage Policies"})}),"\n",(0,i.jsx)(n.p,{children:"The fuzzy_check module connects to external fuzzy storage servers. Be aware of usage policies:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Public fuzzy servers"})," (like rspamd.com) have usage limits and policies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Commercial environments"})," should consider running private fuzzy storage"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"High-volume sites"})," may need to configure custom fuzzy servers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Privacy concerns"})," - fuzzy hashes are sent to external servers"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# /etc/rspamd/local.d/fuzzy_check.conf\n# Configure custom fuzzy server for privacy/policy compliance\nrule "local" {\n  servers = "fuzzy.internal.example.com:11335";\n  symbol = "LOCAL_FUZZY_DENIED";\n  mime_types = ["*"];\n  read_only = false;\n  skip_unknown = true;\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"when-to-modify-modules",children:"When to Modify Modules"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Scenario"}),(0,i.jsx)(n.th,{children:"Action"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Performance issues"})}),(0,i.jsx)(n.td,{children:"Disable expensive modules"}),(0,i.jsx)(n.td,{children:"Disable antivirus if external scanning exists"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"False positives"})}),(0,i.jsx)(n.td,{children:"Adjust module sensitivity"}),(0,i.jsx)(n.td,{children:"Lower RBL scores, exclude internal networks"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Custom requirements"})}),(0,i.jsx)(n.td,{children:"Add specialized modules"}),(0,i.jsx)(n.td,{children:"Enable multimap for custom business rules"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Compliance needs"})}),(0,i.jsx)(n.td,{children:"Enable specific checks"}),(0,i.jsx)(n.td,{children:"Add antivirus for regulatory requirements"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"scores-how-much-tests-matter",children:"Scores: How Much Tests Matter"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Scores"})," (also called weights) determine how much each test contributes to the message's spam score."]}),"\n",(0,i.jsx)(n.h3,{id:"understanding-the-scoring-system",children:"Understanding the Scoring System"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph LR\n    A[Message Analysis] --\x3e B[Test 1: +0.5]\n    A --\x3e C[Test 2: +2.0]\n    A --\x3e D[Test 3: -0.1]\n    B --\x3e E[Total Score: +2.4]\n    C --\x3e E\n    D --\x3e E\n    E --\x3e F[Action Decision]"}),"\n",(0,i.jsx)(n.h3,{id:"default-score-categories",children:"Default Score Categories"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Score Range"}),(0,i.jsx)(n.th,{children:"Meaning"}),(0,i.jsx)(n.th,{children:"Examples"}),(0,i.jsx)(n.th,{children:"Typical Actions"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"+5.0 to +15.0"})}),(0,i.jsx)(n.td,{children:"Strong spam indicators"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"BAYES_SPAM"}),", ",(0,i.jsx)(n.code,{children:"FORGED_SENDER"})]}),(0,i.jsx)(n.td,{children:"Major score contribution"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"+1.0 to +4.9"})}),(0,i.jsx)(n.td,{children:"Moderate indicators"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"R_SPF_FAIL"}),", ",(0,i.jsx)(n.code,{children:"RBL hits"})]}),(0,i.jsx)(n.td,{children:"Moderate score contribution"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"+0.1 to +0.9"})}),(0,i.jsx)(n.td,{children:"Minor indicators"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"MISSING_DATE"}),", formatting issues"]}),(0,i.jsx)(n.td,{children:"Small score contribution"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"0.0"})}),(0,i.jsx)(n.td,{children:"Informational only"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"R_DKIM_ALLOW"})}),(0,i.jsx)(n.td,{children:"No score impact"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"-0.1 to -2.0"})}),(0,i.jsx)(n.td,{children:"Ham indicators"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"BAYES_HAM"}),", ",(0,i.jsx)(n.code,{children:"DKIM_VALID"})]}),(0,i.jsx)(n.td,{children:"Reduce spam score"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"how-to-adjust-scores",children:"How to Adjust Scores"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Method 1: Actions Configuration"})," (Recommended for beginners)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/rspamd/local.d/actions.conf\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"# Adjust thresholds instead of individual scores\nreject = 15;        # Increase to reduce false positives\nadd_header = 6;     # Decrease to catch more spam\ngreylist = 4;       # Adjust based on tolerance for delays\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Method 2: Metrics Configuration"})," (Advanced users)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/rspamd/local.d/metrics.conf\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# Override specific symbol scores\nsymbol "FORGED_SENDER" {\n  score = 1.0;     # Increase from default 0.3\n}\n\nsymbol "BAYES_SPAM" {\n  score = 4.0;     # Adjust Bayesian spam weight\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"score-tuning-strategy",children:"Score Tuning Strategy"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Step 1: Collect Data"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Analyze current scoring patterns\nrspamc stat | grep "Total messages"\n\n# Review recent message scores in web interface\n# Look for patterns in false positives/negatives\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Step 2: Identify Problem Areas"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Find messages with wrong classifications\n# Check web interface History tab\n# Look for common symbols in misclassified messages\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Step 3: Make Incremental Adjustments"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# Example: Reducing false positives from SPF failures\n# /etc/rspamd/local.d/metrics.conf\n\nsymbol "R_SPF_FAIL" {\n  score = 0.5;     # Reduced from default 1.0\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Step 4: Test and Monitor"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Restart Rspamd after changes  \nsudo systemctl restart rspamd\n\n# Monitor for 24-48 hours before further adjustments\n# Use web interface to track effectiveness\n"})}),"\n",(0,i.jsx)(n.h2,{id:"actions-what-to-do-with-scores",children:"Actions: What to Do with Scores"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Actions"})," define what happens when messages reach certain spam score thresholds."]}),"\n",(0,i.jsx)(n.h3,{id:"standard-action-types",children:"Standard Action Types"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Action"}),(0,i.jsx)(n.th,{children:"Purpose"}),(0,i.jsx)(n.th,{children:"When It Triggers"}),(0,i.jsx)(n.th,{children:"Effect"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"no action"})}),(0,i.jsx)(n.td,{children:"Clean message"}),(0,i.jsx)(n.td,{children:"Score below greylist threshold"}),(0,i.jsx)(n.td,{children:"Normal delivery"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"greylist"})}),(0,i.jsx)(n.td,{children:"Temporary delay"}),(0,i.jsx)(n.td,{children:"Score between greylist and add_header"}),(0,i.jsx)(n.td,{children:"Message delayed, legitimate senders retry"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"add_header"})}),(0,i.jsx)(n.td,{children:"Mark as spam"}),(0,i.jsx)(n.td,{children:"Score between add_header and reject"}),(0,i.jsx)(n.td,{children:"Headers added, usually filed to spam folder"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"reject"})}),(0,i.jsx)(n.td,{children:"Refuse message"}),(0,i.jsx)(n.td,{children:"Score above reject threshold"}),(0,i.jsx)(n.td,{children:"Message bounced back to sender"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"how-actions-work",children:"How Actions Work"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph TB\n    A[Message Score: 8.5] --\x3e B{Check Thresholds}\n    B --\x3e C{< 4.0?}\n    C --\x3e|Yes| D[no action]\n    C --\x3e|No| E{< 6.0?}\n    E --\x3e|Yes| F[greylist] \n    E --\x3e|No| G{< 15.0?}\n    G --\x3e|Yes| H[add_header]\n    G --\x3e|No| I[reject]"}),"\n",(0,i.jsx)(n.h3,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Conservative Setup"})," (Avoid false positives):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"# /etc/rspamd/local.d/actions.conf\nreject = 20;        # Very high threshold\nadd_header = 8;     # Conservative spam marking\ngreylist = 5;       # Moderate greylisting\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Aggressive Setup"})," (Catch more spam):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"# /etc/rspamd/local.d/actions.conf  \nreject = 12;        # Lower reject threshold\nadd_header = 4;     # Mark more messages as spam\ngreylist = 3;       # More aggressive greylisting\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Balanced Setup"})," (Default recommendation):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"# /etc/rspamd/local.d/actions.conf\nreject = 15;        # Standard threshold\nadd_header = 6;     # Balanced spam detection  \ngreylist = 4;       # Standard greylisting\n"})}),"\n",(0,i.jsx)(n.h3,{id:"action-tuning-guidelines",children:"Action Tuning Guidelines"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:["Adjust ",(0,i.jsx)(n.code,{children:"reject"})," threshold when"]}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2b06\ufe0f ",(0,i.jsx)(n.strong,{children:"Increase"})," if you're getting false positive rejections"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2b07\ufe0f ",(0,i.jsx)(n.strong,{children:"Decrease"})," if obvious spam is getting through"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:["Adjust ",(0,i.jsx)(n.code,{children:"add_header"})," threshold when"]}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2b06\ufe0f ",(0,i.jsx)(n.strong,{children:"Increase"})," if too many legitimate messages marked as spam"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2b07\ufe0f ",(0,i.jsx)(n.strong,{children:"Decrease"})," if spam is reaching inboxes"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:["Adjust ",(0,i.jsx)(n.code,{children:"greylist"})," threshold when"]}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2b06\ufe0f ",(0,i.jsx)(n.strong,{children:"Increase"})," if legitimate senders complain about delays"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2b07\ufe0f ",(0,i.jsx)(n.strong,{children:"Decrease"})," if you want more aggressive spam blocking"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"workers-how-rspamd-operates",children:"Workers: How Rspamd Operates"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Workers"})," are different processes that handle specific Rspamd functions."]}),"\n",(0,i.jsx)(n.h3,{id:"worker-types-and-their-roles",children:"Worker Types and Their Roles"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Worker"}),(0,i.jsx)(n.th,{children:"Purpose"}),(0,i.jsx)(n.th,{children:"Configuration File"}),(0,i.jsx)(n.th,{children:"Default Port"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"normal"})}),(0,i.jsx)(n.td,{children:"Message scanning"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"worker-normal.inc"})}),(0,i.jsx)(n.td,{children:"11333"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"controller"})}),(0,i.jsx)(n.td,{children:"Web interface, API"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"worker-controller.inc"})}),(0,i.jsx)(n.td,{children:"11334"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"proxy"})}),(0,i.jsx)(n.td,{children:"MTA integration"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"worker-proxy.inc"})}),(0,i.jsx)(n.td,{children:"11332"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"fuzzy"})}),(0,i.jsx)(n.td,{children:"Fuzzy hash storage"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"worker-fuzzy.inc"})}),(0,i.jsx)(n.td,{children:"11335"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"essential-worker-configurations",children:"Essential Worker Configurations"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Controller Worker"})," (Web Interface):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# /etc/rspamd/local.d/worker-controller.inc\npassword = "$2$your_password_hash";\nbind_socket = "localhost:11334";\nsecure_ip = "127.0.0.1";  # Restrict access\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Proxy Worker"})," (MTA Integration):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# /etc/rspamd/local.d/worker-proxy.inc\nmilter = yes;                    # Enable milter protocol\ntimeout = 120s;                  # MTA timeout\n\n# For small installations, proxy can work in self-scan mode\n# (combines proxy and scanner functionality)\nupstream "local" {\n  default = yes;\n  self_scan = yes;               # Enable self-scan for small setups\n}\n\n# Benefits of self-scan mode:\n# - Reduces process overhead for small installations\n# - Simplifies configuration (no separate scanner worker needed)\n# - Maintains full scanning functionality\n# - Suitable for installations with < 1000 messages/day\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Normal Worker"})," (Scanning):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# /etc/rspamd/local.d/worker-normal.inc\nbind_socket = "localhost:11333";\ntask_timeout = 8s;               # Per-message timeout\nmax_tasks = 0;                   # Unlimited concurrent tasks\n'})}),"\n",(0,i.jsx)(n.h3,{id:"when-to-modify-worker-configuration",children:"When to Modify Worker Configuration"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Scenario"}),(0,i.jsx)(n.th,{children:"Worker"}),(0,i.jsx)(n.th,{children:"Modification"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Performance tuning"})}),(0,i.jsx)(n.td,{children:"normal"}),(0,i.jsx)(n.td,{children:"Adjust timeouts, limits"}),(0,i.jsxs)(n.td,{children:["Increase ",(0,i.jsx)(n.code,{children:"max_tasks"})," for high volume"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Security hardening"})}),(0,i.jsx)(n.td,{children:"controller"}),(0,i.jsx)(n.td,{children:"Restrict access"}),(0,i.jsx)(n.td,{children:"Bind to specific IP addresses"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"MTA integration"})}),(0,i.jsx)(n.td,{children:"proxy"}),(0,i.jsx)(n.td,{children:"Configure milter settings, self-scan mode"}),(0,i.jsx)(n.td,{children:"Set appropriate timeouts, enable self-scan for small installations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"High availability"})}),(0,i.jsx)(n.td,{children:"all"}),(0,i.jsx)(n.td,{children:"Multiple instances"}),(0,i.jsx)(n.td,{children:"Configure load balancing"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"general-options-system-behavior",children:"General Options: System Behavior"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"General options"})," control system-wide behavior like DNS resolution, logging, and timeouts."]}),"\n",(0,i.jsx)(n.h3,{id:"key-general-options",children:"Key General Options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# /etc/rspamd/local.d/options.inc\n\n# DNS Configuration\ndns {\n  timeout = 1s;                  # DNS query timeout\n  sockets = 16;                  # Concurrent DNS queries\n  # Use local resolver - avoid public DNS servers like 8.8.8.8\n  # Public DNS servers can cause:\n  # - Higher latency and timeouts\n  # - Rate limiting issues\n  # - Different RBL responses than your ISP expects\n  # - Privacy concerns (DNS queries visible to third parties)\n  # nameserver = ["127.0.0.1"];  # Use system resolver (recommended)\n}\n\n# Logging\nlogging {\n  level = "info";                # Logging verbosity\n  log_file = "/var/log/rspamd/rspamd.log";\n}\n\n# Performance\ntempdir = "/tmp";                # Temporary files location\nmax_message = 50M;               # Maximum message size\n'})}),"\n",(0,i.jsx)(n.h3,{id:"common-configuration-scenarios",children:"Common Configuration Scenarios"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Slow Network Environment"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# Increase timeouts for slow networks\ndns {\n  timeout = 3s;\n  retransmits = 5;\n  # Still use local resolver even with increased timeouts\n  # nameserver = ["127.0.0.1"];\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"High Security Environment"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# Restrict message size\nmax_message = 10M;\n\n# Note: Debug logging is very verbose and not recommended for production\n# Use "info" level for normal operations\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Performance Optimization"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"# Optimize for high volume\ndns {\n  sockets = 32;                  # More concurrent queries\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-file-structure",children:"Configuration File Structure"}),"\n",(0,i.jsx)(n.p,{children:"Understanding where and how to place configuration files:"}),"\n",(0,i.jsx)(n.h3,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/etc/rspamd/\n\u251c\u2500\u2500 rspamd.conf                  # Main config (don't edit)\n\u251c\u2500\u2500 local.d/                     # Your customizations\n\u2502   \u251c\u2500\u2500 actions.conf\n\u2502   \u251c\u2500\u2500 metrics.conf\n\u2502   \u2514\u2500\u2500 worker-*.inc\n\u251c\u2500\u2500 override.d/                  # Complete replacements\n\u2514\u2500\u2500 modules.d/                   # Module defaults (don't edit)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuration-precedence",children:"Configuration Precedence"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"override.d/"})})," - Completely replaces default configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"local.d/"})})," - Merges with default configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"modules.d/"})})," - Default module configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"rspamd.conf"})})," - Main configuration file"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Best Practice"}),": Always use ",(0,i.jsx)(n.code,{children:"local.d/"})," unless you need to completely replace a configuration section."]}),"\n",(0,i.jsx)(n.h2,{id:"configuration-testing-and-validation",children:"Configuration Testing and Validation"}),"\n",(0,i.jsx)(n.h3,{id:"test-configuration-syntax",children:"Test Configuration Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check configuration for syntax errors\nsudo rspamadm configtest\n\n# Check configuration with verbose output\nsudo rspamadm configtest -v\n"})}),"\n",(0,i.jsx)(n.h3,{id:"monitor-configuration-changes",children:"Monitor Configuration Changes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# View configuration dump\nrspamc configdump\n\n# Check specific symbols and scores\nrspamc configdump | grep -A5 -B5 "symbol_name"\n\n# Monitor real-time changes\ntail -f /var/log/rspamd/rspamd.log\n'})}),"\n",(0,i.jsx)(n.h3,{id:"validate-changes-with-test-messages",children:"Validate Changes with Test Messages"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Test message processing after configuration changes\necho "Test message" | rspamc\n\n# Check specific symbols are working\necho "Test message with suspicious content" | rspamc | grep "SYMBOL_NAME"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"common-configuration-patterns",children:"Common Configuration Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"the-minimal-configuration-pattern",children:"The Minimal Configuration Pattern"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Only modify action thresholds"}),"\n",(0,i.jsx)(n.li,{children:"Use default modules and scores"}),"\n",(0,i.jsx)(n.li,{children:"Focus on MTA integration"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Files to modify"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"local.d/actions.conf"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"local.d/worker-proxy.inc"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"local.d/worker-controller.inc"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"the-tuned-environment-pattern",children:"The Tuned Environment Pattern"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Customize scores based on testing"}),"\n",(0,i.jsx)(n.li,{children:"Enable/disable specific modules"}),"\n",(0,i.jsx)(n.li,{children:"Adjust learning mechanisms"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Additional files"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"local.d/metrics.conf"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"local.d/rbl.conf"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"local.d/multimap.conf"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"the-high-performance-pattern",children:"The High Performance Pattern"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Optimize worker configuration"}),"\n",(0,i.jsx)(n.li,{children:"Tune system limits"}),"\n",(0,i.jsx)(n.li,{children:"Focus on speed over features"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Additional considerations"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Worker timeouts and limits"}),"\n",(0,i.jsx)(n.li,{children:"DNS configuration optimization"}),"\n",(0,i.jsx)(n.li,{children:"Memory and CPU tuning"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,i.jsx)(n.p,{children:"Now that you understand configuration fundamentals:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/configuration/tool-selection",children:"Choose the right tools"})})," for your specific tasks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/scenarios/",children:"Apply scenario-specific configurations"})})," for your environment"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/developers/writing_rules",children:"Learn rule writing"})})," for custom detection logic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/maintenance/monitoring/",children:"Set up monitoring"})})," to track configuration effectiveness"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Configuration has five main areas"}),": modules, scores, actions, workers, and general options\n\u2705 ",(0,i.jsx)(n.strong,{children:"Start with actions and thresholds"})," before diving into detailed score tuning",(0,i.jsx)(n.br,{}),"\n\u2705 ",(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"local.d/"})," for customizations"]})," to preserve upgradeability\n\u2705 ",(0,i.jsx)(n.strong,{children:"Test configuration changes"})," before applying to production\n\u2705 ",(0,i.jsx)(n.strong,{children:"Monitor effectiveness"})," and adjust based on real-world performance"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var r=s(6540);const i={},t=r.createContext(i);function d(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);