"use strict";(self.webpackChunkrspamd_docs=self.webpackChunkrspamd_docs||[]).push([[4167],{4827:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var a=i(6540),s=i(2590),r=i(23);const n={releaseCard:"releaseCard_V_vn",releaseHeader:"releaseHeader_WFii",releaseInfo:"releaseInfo_lG6c",versionSection:"versionSection_EhC2",releaseType:"releaseType_XlIj",version:"version_Ivo7",date:"date_lDu3",titleSection:"titleSection_q8Wx",title:"title_LYM2",description:"description_JBV_",expandButton:"expandButton_s8_L",arrow:"arrow_eh1w",expanded:"expanded_iFmC",releaseContent:"releaseContent_YOuB",changes:"changes_M4J2",changeSection:"changeSection_q0vS",sectionTitle:"sectionTitle_dPiS",sectionIcon:"sectionIcon_lHvv",changeList:"changeList_xLVo",changeItem:"changeItem_fQM5"};var o=i(4848);function l(e){var t,i=e.release,s=e.typeInfo,l=(0,a.useState)(!1),d=l[0],c=l[1];return(0,o.jsxs)("div",{className:n.releaseCard,children:[(0,o.jsxs)("div",{className:n.releaseHeader,onClick:function(){return c(!d)},children:[(0,o.jsxs)("div",{className:n.releaseInfo,children:[(0,o.jsxs)("div",{className:n.versionSection,children:[(0,o.jsxs)("span",{className:n.releaseType,style:{backgroundColor:s.color},children:[s.icon," ",s.label]}),(0,o.jsxs)("h2",{className:n.version,children:["v",i.version]}),(0,o.jsx)("span",{className:n.date,children:(t=i.date,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))})]}),(0,o.jsxs)("div",{className:n.titleSection,children:[(0,o.jsx)("h3",{className:n.title,children:i.title}),(0,o.jsx)("p",{className:n.description,children:s.description})]})]}),(0,o.jsx)("div",{className:n.expandButton,children:(0,o.jsx)("span",{className:n.arrow+" "+(d?n.expanded:""),children:"\u25bc"})})]}),d&&(0,o.jsx)("div",{className:n.releaseContent,children:(0,o.jsx)("div",{className:n.changes,children:i.sections.map(function(e){return function(e,t){if(!t||0===t.length)return null;var i=function(e){switch(e.toLowerCase()){case"breaking changes":return{color:"#dc3545",icon:"\ud83d\udca5"};case"added":return{color:"#27ae60",icon:"\u2705"};case"changed":case"improved":return{color:"#3498db",icon:"\ud83d\udd04"};case"fixed":return{color:"#e67e22",icon:"\ud83d\udd27"};case"security":return{color:"#e74c3c",icon:"\ud83d\udee1\ufe0f"};case"deprecated":return{color:"#f39c12",icon:"\u26a0\ufe0f"};case"removed":return{color:"#95a5a6",icon:"\u274c"};default:return{color:"#7f8c8d",icon:"\ud83d\udcdd"}}}(e);return(0,o.jsxs)("div",{className:n.changeSection,children:[(0,o.jsxs)("h4",{className:n.sectionTitle,style:{color:i.color},children:[(0,o.jsx)("span",{className:n.sectionIcon,children:i.icon}),e]}),(0,o.jsx)("ul",{className:n.changeList,children:t.map(function(e,t){return(0,o.jsx)("li",{className:n.changeItem,dangerouslySetInnerHTML:{__html:(i=e,r.xI.setOptions({breaks:!1,gfm:!0}),r.xI.parse(i).replace(/^<p>|<\/p>$/g,""))}},t);var i})})]},e)}(e.title,e.items)})})})]})}const d={changelog:"changelog_D9XG",header:"header_kmYz",subtitle:"subtitle_aupl",filters:"filters_hJKK",filterButton:"filterButton_yd6U",active:"active_us8t",releases:"releases_ZDc6",loading:"loading_MdV5",noReleases:"noReleases_A1BR"};var c=[{version:"3.13.0",date:"2025-09-17",type:"major",title:"Major Release with Breaking Changes",sections:[{title:"Breaking Changes",items:["Multiclass Bayes classification with named classes (2\u201320 classes), processed in a single Redis call per message. ([#5547](https://github.com/rspamd/rspamd/pull/5547))","Backward compatible with `is_spam`; new configuration supports labeled classes and autolearn.","Lua API and autolearn support multiclass workflows with class\u2011aware Redis caching.","CLI: `rspamc learn_class:transactional \u2026`, `rspamc learn_class:newsletter \u2026`.","Lua API: `task:get_multiclass_result()` returns class probabilities and confidence."]},{title:"Added",items:["Neural module overhaul to a provider\u2011based architecture (symbols, LLM embeddings), versioned and backward compatible. ([#5579](https://github.com/rspamd/rspamd/pull/5579))","Pluggable feature fusion with trained normalization (unit/zscore/none) applied at train and inference.","Redis\u2011backed caching for LLM embeddings to control cost and latency.","Multimap selectors: SA\u2011style selectors with dedicated `selector` field; integrated with Hyperscan and regex cache. ([#5615](https://github.com/rspamd/rspamd/pull/5615))","MIME parser automatically detects part types. ([#5619](https://github.com/rspamd/rspamd/pull/5619), [#5608](https://github.com/rspamd/rspamd/pull/5608))","HTML parser extracts more features for downstream modules."]},{title:"Improved",items:["HTTP timeouts configuration and handling. ([#5614](https://github.com/rspamd/rspamd/pull/5614), [#5603](https://github.com/rspamd/rspamd/pull/5603), [#5601](https://github.com/rspamd/rspamd/pull/5601))","Upstream reliability with probe mode; reduced need for forced revive.","DNS nameserver resolution switched to `getaddrinfo`.","Standardized on C++20; build, test, and CI improvements (including ARM support and modern fallback maps). ([#5592](https://github.com/rspamd/rspamd/pull/5592), [#5598](https://github.com/rspamd/rspamd/pull/5598), [#5580](https://github.com/rspamd/rspamd/pull/5580))","Regular code cleaning and RPM tweaks.","WebUI: E2E scan test flows; Bootstrap upgrade; Bayes class management from the web interface. ([#5606](https://github.com/rspamd/rspamd/pull/5606), [#5607](https://github.com/rspamd/rspamd/pull/5607))","GPT/LLM integrations: improved parameter/prompt handling; initial support for OpenAI GPT\u20115 and other models. ([#5612](https://github.com/rspamd/rspamd/pull/5612), [#5572](https://github.com/rspamd/rspamd/pull/5572))"]},{title:"Fixed",items:["DCC plugin rewritten and optimized. ([#5602](https://github.com/rspamd/rspamd/pull/5602))","DKIM relaxed body canonicalization; improved reliability in multimap, WebUI, and configuration. ([#5593](https://github.com/rspamd/rspamd/pull/5593))","Numerous minor bug fixes and CI/build improvements."]}]},{version:"3.12.1",date:"2025-06-17",type:"minor",title:"Minor Release with Bug Fixes and Improvements",sections:[{title:"Added",items:["**Bayes Classifiers Endpoint**: Add `/bayes/classifiers` HTTP endpoint for better classifier management","**Enhanced Scheduling**: Further improvements in scheduling next checks for better performance","**AEAD Testing**: Add comprehensive tests for AEAD (Authenticated Encryption with Associated Data) used in Rspamd","**Improved Maps Consistency**: Better consistency in cached flag for maps and logging when dealing with Expires"]},{title:"Improved",items:["**Maps Locking**: Eliminate maps locking for better performance and reduced contention","**Proxy Headers**: Fix proxy headers duplication and improve header handling","**Milter Logic**: Do not add log tag header in milter logic for cleaner output","**Connection Handling**: Do not explicitly add Connection header if it's already present","**Attachment Processing**: Treat *.library-ms and *.search-ms attachments as harmful (with proper application)","**Maps Concurrent Loading**: Fix race conditions in maps concurrent loading","**Write Operations**: Try to avoid incomplete writes for better data integrity"]},{title:"Fixed",items:["**Maps Locking Issues**: Eliminate maps locking to prevent deadlocks and improve performance","**Proxy Headers Duplication**: Fix proxy headers duplication issue","**Milter Header Logic**: Fix logic error in milter_headers.lua: skip_wanted() function","**Connection Header**: Prevent duplicate Connection headers in proxy","**Maps Concurrent Access**: Fix race conditions in maps concurrent loading","**Incomplete Writes**: Prevent incomplete writes that could cause data corruption","**Attachment Security**: Properly apply security rules for *.library-ms and *.search-ms attachments","**Logging Consistency**: Improve consistency in logging when dealing with Expires and cached flags"]},{title:"Changed",items:["**Maps Architecture**: Eliminate maps locking mechanism for better performance","**Header Processing**: Improve header processing to avoid duplicates","**Attachment Handling**: Enhanced security for Windows library and search attachments","**Scheduling Logic**: Improved scheduling algorithm for next checks","**Logging Format**: Better consistency in logging output and cached flag handling"]},{title:"Security",items:["**Attachment Security**: Enhanced protection against potentially harmful Windows library and search attachments","**Header Validation**: Improved header validation to prevent duplication and injection","**Write Protection**: Better protection against incomplete writes that could lead to data corruption"]},{title:"Performance",items:["**Maps Performance**: Eliminate maps locking for better concurrent access performance","**Scheduling**: Improved scheduling algorithm for better resource utilization","**Header Processing**: Optimized header processing to reduce overhead"]},{title:"Testing",items:["**AEAD Testing**: Comprehensive tests for AEAD encryption used throughout Rspamd","**Maps Testing**: Improved testing for maps concurrent loading scenarios","**Header Testing**: Better testing for header processing and duplication scenarios"]}]},{version:"3.12.0",date:"2025-06-10",type:"major",title:"Major Release with Enhanced Features and Security Improvements",sections:[{title:"Added",items:["**GPT Module Enhancements**: Add Ollama support and token usage logging for OpenAI-compatible APIs","**Fuzzy Storage Improvements**: Add support for separate read and write servers in fuzzy check","**CDB Maps Support**: Allow CDB files as external maps for improved performance","**Contextal Integration**: New plugin to integrate with Contextal platform for advanced threat detection","**Enhanced Logging**: Allow to specify max log tag length for all log messages and log tag in proxy","**Proxy Improvements**: Add keep-alive support, HTTPS backend connections, and extra headers specification","**Redis Version Support**: Allow to specify Redis version for compatibility","**HEIC File Support**: Add HEIC files patterns for better image analysis","**Enhanced Maps Management**: Show all maps status and output content for all maps","**File Upload in WebUI**: Add file upload functionality to Test Selectors","**Convenience Methods**: Add various convenience methods for Lua development","**Enhanced Fuzzy Operations**: Add deletion of specific fuzzy hashes in WebUI","**Improved Error Handling**: Better error messages for multimap invalid types"]},{title:"Improved",items:["**Security Enhancements**: Critical fix to disable macros and file variables by default in lua-ucl","**Maps Loading**: Fix race condition in maps loading by unlocking backend on switch","**Greylisting**: Improve body hash calculations for better accuracy","**Replies Module**: Rework to consider all recipients and use SMTP ones","**WebUI Updates**: Update Bootstrap, D3 and PrismJS libraries to latest versions","**Lua Logging**: Major improvements to logging output format and complex table key support","**Fuzzy Storage**: Better handling of fuzzy lua callback when there are no shingles","**Milter Headers**: Fix logic error in skip_wanted() function","**Known Senders**: Improved recipients test logic and consistency with replies module","**Maps Management**: Grey out not loaded maps in the Maps table for better visibility","**Redis Integration**: Improve Redis script loading and caching framework usage","**Configuration**: Use safe parsers everywhere except configuration for security","**Build System**: Modernize cmake and improve sanitizers support","**Documentation**: Update API docs for multiple HTTP headers and various other improvements"]},{title:"Fixed",items:["**Critical Security**: Disable macros and file variables by default in lua-ucl parser","**Race Conditions**: Fix race condition in maps loading by unlocking backend on switch","**Memory Issues**: Fix lua-bit stack buffer overflow vulnerability","**Proxy Crashes**: Prevent crashes when accessing upstream address in self-scan mode","**Maps Management**: Fix maps IDs and static maps description passing","**Fuzzy Storage**: Filter invalid domains in fuzzy extra data","**Redis Integration**: Fix various Redis-related issues and improve script loading","**WebUI Issues**: Fix Fuzzy hashes card close button alignment and map editor modal handling","**Build Issues**: Fix Debian package build and RPM log directory attributes","**Compiler Warnings**: Fix various compile warnings and compatibility issues","**Test Framework**: Fix various test issues and improve test configuration","**Documentation**: Fix writing rules tutorial link and various documentation issues","**URL Lists**: Update default URL for openphish and fix various URL-related issues","**Headers Processing**: Fix header processing in various modules","**Lua Integration**: Fix various Lua-related issues and improve error handling"]},{title:"Changed",items:["**Configuration**: Use safe parsers everywhere except configuration for enhanced security","**Maps Architecture**: Rework to use locks/loaded per backend for all maps","**Replies Logic**: Consider all recipients and use SMTP ones instead of just From header","**Fuzzy Storage**: Remove servers completely and use `read_servers` for all compatibility","**Logging Format**: Improve format string processing and logging output","**Build System**: Modernize cmake and rework OSDep for better maintainability","**WebUI**: Rework file upload JS implementation and improve user interface","**Documentation**: Update various documentation files and improve API documentation","**Error Handling**: Improve error messages and handling throughout the codebase","**Performance**: Various performance improvements in maps, Redis, and fuzzy operations"]},{title:"Removed",items:["**Deprecated Features**: Remove various deprecated and unused code paths","**Unused Helpers**: Remove unused cleanTextUpload helper and other obsolete code","**Legacy Support**: Remove compatibility code that is no longer needed"]},{title:"Security",items:["**Critical Fix**: Disable macros and file variables by default in lua-ucl parser","**Memory Safety**: Fix lua-bit stack buffer overflow vulnerability","**Input Validation**: Improve input validation and error handling throughout","**Configuration Security**: Use safe parsers everywhere except configuration"]},{title:"Performance",items:["**Maps Loading**: Optimize maps loading with better caching and race condition fixes","**Redis Operations**: Improve Redis script loading and caching framework usage","**Fuzzy Storage**: Better handling of fuzzy operations and storage management","**Memory Usage**: Various memory optimization improvements"]},{title:"Documentation",items:["**API Documentation**: Update API docs for multiple HTTP headers and various modules","**Tutorial Links**: Fix writing rules tutorial link and other documentation references","**Examples**: Add more examples for Lua HTTP and other modules","**Configuration**: Improve configuration documentation and examples"]},{title:"Testing",items:["**Test Framework**: Fix various test issues and improve test configuration","**Fuzzy Tests**: Add comprehensive tests for split, read-only, and write-only server modes","**CDB Maps**: Add tests for CDB maps functionality","**HEIC Recognition**: Add tests for HEIC file recognition"]}]},{version:"3.11.1",date:"2024-12-15",type:"minor",title:"Feature Update with Bug Fixes",sections:[{title:"Added",items:["GPT: Add ollama support","Allow to hash any Lua types","Allow to use LLM for anonymize","Add ability to not send response_format in gpt plugin to support gpt4all","Allow to store shingles as opaque Lua data","Add 'noop' redis backend for scripts running","Allow multiple lua scripts for fuzzy storage","Support LLM models consensus","GPT: Support reason adding","Add Redis caching framework","Add ability to create timers from Lua"]},{title:"Improved",items:["Expand Detection of Fake Reply Subjects Across Multiple Languages","Add another acceptable mime type for icon","Respect ipv4 and ipv6 configurations for rbl resolve_ip","Set RBL checks to bool true","Rules regexp url separated and fix no subdomain cases for Google urls","WebUI: Reset dropdown when clearing filters","Pass both the multimap and the rules descriptions for combined multimap on create","Some small fixes to statistics_dump","More features to GPT plugin","Better support for maps and IP-related fixes/improvements in settings","Use caching framework in gpt module","Try to check maps earlier if their expires is too long"]},{title:"Fixed",items:["Fix transposed results in `rspamadm fuzzy_ping`","connIp is not correctly added to request","Fix Thunderbird for Android marked with FORGED_MUA_THUNDERBIRD_MSGID_UNKNOWN","Fix issue with synchronous Redis calls","Fix some broken links","rbl check_types was missing images","RBL: fix use of `content_urls` and `images` inside `checks`","Use sub_utf8 to strip headers value to not break utf8 strings","Properly close multipart/related boundary when adding text footer","Verify key type to match DKIM signature type","Avoid collision hacks in mempool variables hash","Add expiration for neural ham and spam sets","Properly expire neural ham and spam sets"]},{title:"Changed",items:["Log queue id with cloudmark analysis string","Allow to disable RBLs via map","Prevent option duplicates in rspamd_stats.pl","Regenerate manpages with recent Pandoc version","Fix spelling errors in libserver","Update JavaScript linters"]},{title:"Removed",items:["Remove nixspam"]}]},{version:"3.11.0",date:"2024-12-01",type:"major",title:"Major Release with Breaking Changes",sections:[{title:"Breaking Changes",items:["**Elasticsearch/OpenSearch Plugin**: Major rework with breaking changes","Added support for Elasticsearch 8 & OpenSearch 2","Added index policy with logs retention","Updated configuration format"]},{title:"Added",items:["Added LRU cache for last filled ratelimit buckets","Added utilities to manage ratelimit buckets","Added include/exclude logic for headers processing","Added `rspamadm mime strip` command for attachments removal","Added new message anonymization capabilities","Added more ways to extend Rspamd configuration, including `lua.local.d` folder"]},{title:"Improved",items:["Improved address rotation algorithm for upstream selection","Replaced fastutf with simdutf for better architecture support and performance","Reworked symbol description display on hover in WebUI","Improved keyboard accessibility in WebUI","Enhanced symbol rendering in WebUI","Improved handling of DNS limits in SPF module","Improved GPT module JSON parsing","Multiple performance optimizations"]},{title:"Fixed",items:["Fixed ARC-Seal signing issues","Fixed RFC 2047 header encoding","Fixed issues with dynamic keys in fuzzy storage","Fixed TCP connection handling with cumulative timeouts","Fixed multiple phishing detection false positives","Fixed DMARC structured headers encoding"]},{title:"Changed",items:["Skip extra RBL checks when Received IP matches From IP","Multimap now uses only distinct text parts for content matching","Various configuration and logging improvements"]}]}];function p(e,t){for(var i=e.version.split(".").map(function(e){return parseInt(e,10)}),a=t.version.split(".").map(function(e){return parseInt(e,10)}),s=0;s<3;s++){if(i[s]>a[s])return-1;if(i[s]<a[s])return 1}return 0}function m(e){switch(e){case"major":return{color:"#e74c3c",icon:"\ud83d\ude80",label:"Major Release",description:"New features, breaking changes"};case"minor":return{color:"#3498db",icon:"\u2728",label:"Feature Release",description:"New features, backward compatible"};case"patch":return{color:"#27ae60",icon:"\ud83d\udc1b",label:"Bug Fix Release",description:"Bug fixes, security patches"};default:return{color:"#95a5a6",icon:"\ud83d\udce6",label:"Release",description:"General release"}}}function u(){var e=(0,a.useState)("all"),t=e[0],i=e[1],s=[].concat(c).sort(p).filter(function(e){return"all"===t||e.type===t});return(0,o.jsxs)("div",{className:d.changelog,children:[(0,o.jsxs)("div",{className:d.header,children:[(0,o.jsx)("h1",{children:"\ud83d\udccb Changelog"}),(0,o.jsx)("p",{className:d.subtitle,children:"All notable changes to this project are documented here."})]}),(0,o.jsx)("div",{className:d.filters,children:["all","major","minor","patch"].map(function(e){return(0,o.jsx)("button",{className:d.filterButton+" "+(t===e?d.active:""),onClick:function(){return i(e)},children:"all"===e?"\ud83d\udce6 All Releases":m(e).icon+" "+m(e).label},e)})}),(0,o.jsx)("div",{className:d.releases,children:s.map(function(e){return(0,o.jsx)(l,{release:e,typeInfo:m(e.type)},e.version)})}),0===s.length&&(0,o.jsx)("div",{className:d.noReleases,children:"No releases found for the selected filter."})]})}function g(){return(0,o.jsx)(s.A,{title:"Changelog",description:"View all changes and releases for this project",children:(0,o.jsx)(u,{})})}}}]);