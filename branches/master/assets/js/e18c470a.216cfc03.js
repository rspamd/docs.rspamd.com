"use strict";(self.webpackChunkrspamd_docs=self.webpackChunkrspamd_docs||[]).push([[3224],{8453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>c});var n=s(6540);const a={},r=n.createContext(a);function o(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(r.Provider,{value:t},e.children)}},8704:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"modules/chartable","title":"Chartable module","description":"This module allows to find number of characters from the different Unicode scripts in messages textual parts. If a message cannot be converted to UTF-8 (for example, when it contains unrecognized charset definition) then this module just checks number of transitions between ASCII and non ASCII characters.","source":"@site/docs/modules/chartable.md","sourceDirName":"modules","slug":"/modules/chartable","permalink":"/docs.rspamd.com/branches/master/modules/chartable","draft":false,"unlisted":false,"editUrl":"https://github.com/rspamd/docs.rspamd.com/edit/master/docs/modules/chartable.md","tags":[],"version":"current","frontMatter":{"title":"Chartable module"},"sidebar":"docs","previous":{"title":"Bayes expiry module","permalink":"/docs.rspamd.com/branches/master/modules/bayes_expiry"},"next":{"title":"Clickhouse module","permalink":"/docs.rspamd.com/branches/master/modules/clickhouse"}}');var a=s(4848),r=s(8453);const o={title:"Chartable module"},c="Chartable module",i={},d=[];function l(e){const t={a:"a",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"chartable-module",children:"Chartable module"})}),"\n",(0,a.jsxs)(t.p,{children:["This module allows to find number of characters from the different ",(0,a.jsx)(t.a,{href:"https://www.unicode.org/reports/tr24/",children:"Unicode scripts"})," in messages textual parts. If a message cannot be converted to UTF-8 (for example, when it contains unrecognized charset definition) then this module just checks number of transitions between ASCII and non ASCII characters."]}),"\n",(0,a.jsxs)(t.p,{children:["Then ",(0,a.jsx)(t.code,{children:"chartable"})," module evaluates number of script changes in words, e.g. 'a\u7db2\u7d61a' is treated as 2 script changes - from Latin to Chinese and from Chinese back to Latin. Afterwards, this value is normalized: for example, short sequences of different charsets are penalized more than longer ones, and digits are treated specially when they are at the beginning or at the end of a word. It is important to note that this module examines words, so if you have one word completely in Latin and another completely in Cyrillic, then there will be no penalty added by ",(0,a.jsx)(t.code,{children:"chartable"})," module."]}),"\n",(0,a.jsxs)(t.p,{children:["After normalization procedure, Rspamd compares the ",(0,a.jsx)(t.code,{children:"badness"})," value with the threshold, which is ",(0,a.jsx)(t.code,{children:"0.3"})," by default. This value means that about 30% of words have different charsets within a single word."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-hcl",children:'chartable {\n  symbol = "R_MIXED_CHARSET";\n  threshold = 0.3;\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["If you see too many false-positives for the R_MIXED_CHARSET symbol (eg. for multilingual or Slavic emails) you can disable it in ",(0,a.jsx)(t.code,{children:"/etc/rspamd/local.d/chartable.conf"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-hcl",children:"enabled = false;\n"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);